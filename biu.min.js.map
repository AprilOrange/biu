{"version":3,"sources":["biu.js"],"names":["global","factory","exports","module","define","amd","biu","this","isBody","el","toString","text","arguments","length","undefined","_ref","_ref$type","type","_ref$timeout","timeout","_ref$autoHide","autoHide","_ref$closeButton","closeButton","_ref$el","document","body","_ref$align","align","_ref$pop","pop","onHidden","Biu","babelHelpers","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","options","createElement","className","style","textAlign","classList","add","overflow","position","events","insert","startTimer","registerEvents","value","_this","innerHTML","appendChild","elMain","setTimeout","_this2","mouseover","stopTimer","mouseleave","addEventListener","hide","_this3","timer","clearTimeout","_this4","transform","call","removeChild"],"mappings":"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","file":"biu.min.js","sourcesContent":["function isBody(el) {\n  return el.toString && el.toString() === '[object HTMLBodyElement]'\n}\nclass Biu {\n  constructor(text, options) {\n    this.text = text\n    this.options = options\n    this.el = document.createElement('div')\n    this.el.className = `biu-instance biu-${options.type}`\n    this.el.style.textAlign = this.options.align\n\n    if (this.options.pop) {\n      this.el.classList.add('biu-pop')\n    }\n\n    if (!isBody(this.options.el)) {\n      this.options.el.style.overflow = 'hidden'\n      this.options.el.style.position = 'relative'\n      this.el.style.position = 'absolute'\n    }\n\n    // initial events\n    this.events = {}\n\n    // inner element\n    this.insert()\n\n    // auto hide animation\n    if (this.options.autoHide !== false) {\n      this.startTimer()\n    }\n\n    // mouse events\n    this.registerEvents()\n  }\n\n  insert() {\n    // close button\n    this.closeButton = document.createElement('div')\n    this.closeButton.className = 'biu-close'\n    this.closeButton.innerHTML = this.options.closeButton\n    this.el.appendChild(this.closeButton)\n\n    // main\n    const elMain = document.createElement('div')\n    elMain.className = 'biu-main'\n    elMain.innerHTML = this.text\n    this.el.appendChild(elMain)\n\n    this.options.el.appendChild(this.el)\n    setTimeout(() => {\n      this.el.classList.add('biu-shown')\n    }, 200)\n  }\n\n  registerEvents() {\n    if (this.options.autoHide !== false) {\n      this.events.mouseover = () => this.stopTimer()\n      this.events.mouseleave = () => this.startTimer()\n      this.el.addEventListener('mouseover', this.events.mouseover, false)\n      this.el.addEventListener('mouseleave', this.events.mouseleave, false)\n    }\n\n    this.events.hide = () => this.hide()\n    this.closeButton.addEventListener('click', this.events.hide, false)\n  }\n\n  startTimer(timeout = this.options.timeout) {\n    this.timer = setTimeout(() => {\n      this.hide()\n    }, timeout)\n  }\n  \n  stopTimer() {\n    if (this.timer) {\n      clearTimeout(this.timer)\n      this.timer = null\n    }\n  }\n\n  hide() {\n    if (!this.el) {\n      return\n    }\n\n    if (this.options.pop) {\n      this.el.style.transform = 'translateX(-50%) translateY(-110%)'\n    } else {\n      this.el.style.transform = 'translateY(-100%)'\n    }\n    setTimeout(() => {\n      if (this.options.onHidden) {\n        this.options.onHidden.call(this)\n      }\n      this.options.el.removeChild(this.el)\n      this.el = null\n      this.stopTimer()\n    }, 300)\n  }\n}\n\nfunction biu(text = '', {\n  type = 'default',\n  timeout = 3000,\n  autoHide = true,\n  closeButton = 'Ã—',\n  el = document.body,\n  align = 'center',\n  pop = false,\n  onHidden\n} = {}) {\n  return new Biu(text, {\n    type,\n    timeout,\n    autoHide,\n    closeButton,\n    el,\n    align,\n    pop,\n    onHidden\n  })\n}\n\nexport default biu\n"],"sourceRoot":"/source/"}